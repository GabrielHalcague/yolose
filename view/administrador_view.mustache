

<div>UsuariosNuevos {{nuevosUsuariosMes}}</div>
<div>UsuariosTotales {{usuariosTotales}}</div>
<div>UsuariosTotales {{cantidadDePartidasJugadas}}</div>



<div class="input-group">
    <span><select name="tipo" id="" class="form-select">
        <option value="1">cantidad de partidas jugadas</option>
        <option value="2">cantidad de preguntas en el juego</option>
        <option value="3">cantidad de preguntas creadas </option>
        <option value="4">cantidad de usuarios nuevos </option>
        <option value="5">porcentaje de preguntas respondidas correctamente por usuario</option>
        <option value="6">cantidad de usuarios por pais</option>
        <option value="7">cantidad de usuarios por sexo</option>
        <option value="8">cantidad de usuarios por grupo de edad (menores, jubilados, medio)</option>
        <option value="9">cantidad de usuarios por sexo</option>
        <option value="10"> trampitas acumulados por el  usuario</option>
        <option value="11">Ganancia de Trampitas</option>
    </select></span>
    <input type="date" value="2020-01-01" id="fechaInicio">
    <input type="date" id="fechaFin" >

    <div class="form-check">
        <input class="form-check-input" type="radio" name="exampleRadios" id="filtro" value="d" checked>
        <label class="form-check-label" for="exampleRadios1">
            Filtro por dia
        </label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="radio" name="exampleRadios" id="filtro" value="m">
        <label class="form-check-label" for="exampleRadios2">
           filtro mes
        </label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="radio" name="exampleRadios" id="filtro" value="a">
        <label class="form-check-label" for="exampleRadios3">
           filtro a√±io
        </label>
    </div>

    <button class="btn btn-outline-secondary" type="button" id="consultar">Button</button>
</div>

<div id="resultado">resultado</div>

<div style="width: 400px; height: 300px;">
    <canvas id="myChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    function crearGrafico(ejeX ,ejey) {
    const ctx = document.getElementById('myChart');
    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ejeX,
            datasets: [{
                label: '# of Votes',
                data: ejey,
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
    }

</script>


<script>
    $('#consultar').click(function () {
        var tipoConsulta1 = $("#tipoConsulta").val();
        var fechaInicio1 = $('#fechaInicio').val();
        var fechaFin1 = $('#fechaFin').val();
        var filtro1 =$('#filtro').val();
        $.ajax({
            url: '/administrador/consultaPorTipo',
            method: 'POST',
            data: {
                tipoConsulta: tipoConsulta1,
                fechaInicio: fechaInicio1,
                fechaFin: fechaFin1,
                filtro : filtro1
            },
            beforeSend: function () {
                $("#resultado").html("Procesando, espere por favor...");
            },
            success: function (response) {
                console.log("asd");
                console.log(response);
                var data = JSON.parse(response);
                console.log(data);
                var ejex = data.arrays[0];
                var ejey = data.arrays[1];
                console.log(ejex);
              //  $("#resultado").html(estado);
                crearGrafico(ejex,ejey);
            }
        });
    });
</script>


